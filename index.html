<!DOCTYPE html>
<html>
  <link href="styles.css" rel="stylesheet">
  <head>
    <meta charset="utf-8" />
    <title>HTML MIDI Player</title>

    <script src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.22.0/es6/core.js,npm/focus-visible@5"></script>
    <!--script src="./node_modules/@magenta/music/es6/core.js"></script>
    <script src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/focus-visible@5"></script-->
    <script src="./dist/midi-player.min.js"></script>

  </head>
  <body>
    <!--midi-player src="https://cdn.jsdelivr.net/gh/cifkao/html-midi-player@2b12128/jazz.mid" sound-font loop visualizer=".visualizer" id="player1"></midi-player-->
    <!--midi-player
        src="https://cdn.jsdelivr.net/gh/cifkao/html-midi-player@2b12128/twinkle_twinkle.mid"
        sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/sgm_plus"
        visualizer=".visualizer"
        id="player2">
    </midi-player-->
    <midi-player
            src=""
            sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/sgm_plus"
            visualizer=".visualizer"
            id="player2">
    </midi-player>

    <!--midi-visualizer type="piano-roll-canvas" class="visualizer" id="pianoRollVisualizer"></midi-visualizer-->
    <!--midi-visualizer type="piano-roll" class="visualizer" id="pianoRollVisualizer"></midi-visualizer-->
    <midi-visualizer type="waterfall" class="visualizer" id="waterfallVisualizer"></midi-visualizer>
    <midi-visualizer type="staff" class="visualizer" id="staffVisualizer"></midi-visualizer>

    <!--midi-player src="https://cdn.jsdelivr.net/gh/cifkao/html-midi-player@2b12128/notfound.mid" sound-font></midi-player>
    <midi-player sound-font></midi-player-->

    <script>
      window.addEventListener('DOMContentLoaded', function() {
        for (const player of document.querySelectorAll('midi-player')) {
          for (const event of ['load', 'start', 'stop', 'loop']) {
            player.addEventListener(event, console.log);
          }
        }

        const waterfallVisualizer = document.querySelector('#waterfallVisualizer');
        waterfallVisualizer.config = {
          showOnlyOctavesUsed: true
        };
      });
    </script>

    <style>
      .content {
        padding: 0 18px;
        background-color: white;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.2s ease-out;
      }
    </style>
    <br/>
    <button type="button" class="collapsible">Vise fargekoding</button>
    <div class="content">
      <h2>Fargekoder</h2>
      <img src="fargesystem.jpg" alt="fargesystem">
      <h2>Fargekart for piano</h2>
      <img src="piano-overlay.png" alt="fargesystem_overlay">
    </div>

    <script>
      var coll = document.getElementsByClassName("collapsible");
      var i;

      for (i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
          this.classList.toggle("active");
          var content = this.nextElementSibling;
          if (content.style.maxHeight){
            content.style.maxHeight = null;
          } else {
            content.style.maxHeight = content.scrollHeight + "px";
          }
        });
      }
    </script>
  </body>
</html>
